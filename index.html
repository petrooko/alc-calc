<div class="panel">
  <div class="input">
    <label>OG (АЦ-2)</label>
    <input id="og" type="number" inputmode="decimal" oninput="calcBraga()">
  </div>
  <div class="input">
    <label>FG (АЦ-2)</label>
    <input id="fg" type="number" inputmode="decimal" oninput="calcBraga()">
  </div>
  <div class="input">
    <label>Обʼєм браги (л)</label>
    <input id="vol" type="number" inputmode="decimal" oninput="calcBraga()">
  </div>
  <button class="calc" onclick="calcBraga()">Розрахувати</button>
  <button class="calc clear" onclick="clearAll()">Очистити</button>
  <div id="rb" class="result"></div>
</div>

</div>

<script>
// ВКЛАДКИ
function openTab(i){
  const panels=document.querySelectorAll(".panel");
  const Btns=document.querySelectorAll(".tabs button");
  panels.forEach((p,x)=>p.classList.toggle("active",x===i));
  Btns.forEach((b,x)=>b.classList.toggle("active",x===i));
}

// ТЕМА
function toggleTheme(){
  document.body.classList.toggle("dark");
}

// ОЧИСТКА
function clearAll(){
  document.querySelectorAll("input").forEach(i=>i.value="");
  document.querySelectorAll(".result").forEach(r=>{r.innerHTML="";r.classList.remove("show")});
}

// ВОДА
function calcWater(){
  let s1=+w1.value, s2=+w2.value, v=+v1.value;
  if(!s1||!s2||!v) return;
  let abs=v*s1/100;
  let final=abs/(s2/100);
  let add=final-v;
  rw.innerHTML=`Додати води: <b>${add.toFixed(2)} л</b><br>Кінцевий обʼєм: <b>${final.toFixed(2)} л</b>`;
  rw.classList.add("show");
}

// АЕРОМЕТР
function calcAsp(){
  let s=parseFloat(aspv.value);
  let t=parseFloat(aspt.value);
  let mode=document.getElementById("mode").value;
  if(isNaN(s)||isNaN(t)) return;
  let delta=t-20;
  let k = (mode==="gost") ? 0.15 : 0.30;
  let real=s-(delta*k);
  if(real<0) real=0;
  if(real>100) real=100;
  let err=(mode==="gost")?"±0.5%":"польова оцінка";
  ra.innerHTML=`Результат: <b>${real.toFixed(2)}%</b><br>Похибка: ${err}`;
  ra.classList.add("show");
}

// БРАГА
function calcBraga(){
  let ogv=parseFloat(og.value);
  let fgv=parseFloat(fg.value);
  let v=parseFloat(vol.value);
  if(isNaN(ogv)||isNaN(v)) return;
  if(isNaN(fgv)) fgv=0;
  let abv=(ogv-fgv)*0.5056;
  let abs=v*(abv/100);
  let s40=abs/0.4;
  let s43=abs/0.43;
  rb.innerHTML=`
    ABV браги: <b>${abv.toFixed(3)}%</b><br>
    Абсолютний спирт: <b>${abs.toFixed(2)} л</b><br>
    Сирець 40%: <b>${s40.toFixed(2)} л</b><br>
    Сирець 43%: <b>${s43.toFixed(2)} л</b>
  `;
  rb.classList.add("show");
}
</script>

</body>
</html>
